# 题目链接：

「[剑指 Offer 56 - I. 数组中数字出现的次数](https://leetcode-cn.com/problems/shu-zu-zhong-shu-zi-chu-xian-de-ci-shu-lcof/)」

# 思路：

这道题和[136. 只出现一次的数字](https://leetcode-cn.com/problems/single-number/)解法类似。

异或运算：
1. `0`和**任何数**异或=**任何数本身**
2. **任何数**和**自身**异或=`0`
3. 异或满足**交换律**、**结合律**

知道了以上三条，就可以解题了。

总体思路，将`nums`的数按照一定规则分成两组，相同的数必然会被分到一组，关键是**两个不同的数一定要分在不同组**。再每组进行异或，得到的结果就是原数组中两个不同的数，具体如下：

- 首先从0开始，与数组中所有的数进行异或，得到结果`temp`
- `temp`等价为数组中两个不同的数**异或的结果**
- 寻找`temp`中，为`1`的最低的位`k`。例如`[1,2,1,3,2,5]`，得到`temp=6`，也就是`110`，`110`的为`1`的最低的位是第1位，则`k=10`
- `temp`为`110`，是`011`和`101`异或的结果，为`1`的最低位代表两个不同的数，在这一位上不同。那么让两个不同的数，和`k`进行**与**操作，就能分开了
- 分组，`011&10`，`101&10`，可以将两个不同的数分在两组，其余相同的数肯定会被分在同一组
- 每组分别进行异或运算，得到两个答案

# 代码：

## JavaScript

```javascript
const singleNumbers = nums => {
  const temp = nums.reduce((a, b) => a ^ b, 0);

  // 此时temp是两个不同的数异或的结果
  // 寻找k，k是temp最低位为1、其余位是0的二进制数
  let k = 1;
  while ((temp & k) === 0) k = k << 1;

  let [num1, num2] = [0, 0];
  for (const num of nums) {
    // 分组，目的是将两个不同的数分开
    if (num & k) {
      num1 ^= num;
    } else {
      num2 ^= num;
    }
  }

  return [num1, num2];
};
```

